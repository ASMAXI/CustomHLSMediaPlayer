1. Я не стал полносью переписывать ваш код, а лишь исправил нужное поэтому можете с ним ознакомится перейдя в HLSVideoContent.
2. Для того чтобы стало нагляднее и ясно то я создал отдельные классы использовнием нового медиаплеера CustomHLSMediaPlayer(можете с ними ознаокмится в классах:CustomHLSMediaPlayer,NetworkMonitor )
